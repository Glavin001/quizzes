% -*- program: xelatex -*-

% Dr Driver's standard reading quiz
% https://gist.github.com/danieldriver/90a73c4d3c72dd837e39
% =================================
\documentclass[letterpaper,
% answers,
addpoints]{exam}

% Quiz metadata
\newcommand\course{CSCI 3431: Operating Systems}
\newcommand\qznumber{1}
\newcommand\qzdate{24 September 2014}

% Header
\pagestyle{head}
\firstpageheader{% left
	\liningnums{\course\ --- CPU Virtualization Quiz \qznumber} \\
	\qzdate
}{% center - blank
}{% right
	\ifprintanswers \textbf{Answer Key}
	\else Full name:\enspace\makebox[2in]{\hrulefill} \fi \\
	This quiz is worth a total of \textbf{\numpoints\ hypothetical points}.
}
\runningheader{}{}{}
% - add \thepage to double-sided quizzes
% \pagestyle{headandfoot}
% \footer{}{\thepage}{}

% Typography and layout
\usepackage{fontspec,realscripts}
\defaultfontfeatures{Ligatures=TeX}
\setmainfont{Adobe Garamond Pro}
%\setsansfont{Helvetica}
\frenchspacing
% - print solutions in sans serif
\unframedsolutions
\SolutionEmphasis{\sffamily}
\renewcommand{\solutiontitle}{}
% - box points & center in the right margin w/ custom setup@point@toks
\boxedpoints
\pointsinrightmargin
\marginbonuspointname{\textsc{up}}
\makeatletter% rewrite setup@point@toks assuming right margins
\def\clap#1{\hbox to 0pt{\hss#1\hss}}% define \clap as per https://www.tug.org/TUGboat/tb22-4/tb72perlS.pdf
\def\setup@point@toks{%
	\point@toks={%
		\rlap{\hskip-\@totalleftmargin
			  \hskip\textwidth
			  \hskip\@rightmargin
			  \hskip-\rightpointsmargin
			  \clap{\padded@point@block}% change \llap to \clap
		}%
		\global \point@toks={}%
	}%
}% end setup@point@toks
\setlength{\rightpointsmargin}{.5in}% assuming the default 1" margins
\makeatother
% - adjust the top and bottom margins
%\extraheadheight{.25in}
\extrafootheight{-.5in}
\setlength{\marginparwidth}{1.5in}
% NB: remember to use \newpage after the last question

% Custom local commands
\newcommand\Lord{\textsc{Lord}}

\begin{document}

	% Quiz instructions
	\begin{center}
	\parbox{5.5in}{\centering\itshape Answer each of the following questions in complete sentences. 
			Take note of point values.}
	\end{center}

	% Quiz questions
	\begin{questions}

	\question[4]
		How do the \texttt{fork()} and \texttt{exec()} system calls differ? \\
		You might find it helpful to explain how they might be used to build a shell.
		\vspace{.5in}


		\begin{solution}[\stretch{1}]
			tk
		\end{solution}

	\question[3]
		What are the three possible return codes of \texttt{fork()} and what do they mean?


		\begin{solution}[\stretch{1}]
			tk
		\end{solution}

	\question[2]
		What is the return code for \texttt{exec()}? Explain your answer.


		\begin{solution}[\stretch{1}]
			tk
		\end{solution}

	\question[1]
		After you call \texttt{fork()} what process is running? A Short answer will suffice.


		\begin{solution}[\stretch{1}]
			tk
		\end{solution}

	\question[2]
		What are two ways the OS regains control of the CPU?


		\begin{solution}[\stretch{1}]
			tk
		\end{solution}

	\question[3]
		You've made changes to program.c in your git repo that you've cloned from GitHub. \\
		What are the three necessary commands to stage, record, and upload these changes to GitHub.


		\begin{solution}[\stretch{1}]
			tk
		\end{solution}

	\newpage
	\end{questions}
\end{document}
